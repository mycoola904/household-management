<form hx-post="{{ action }}"
      hx-target="{{ target }}"
      hx-swap="innerHTML"
      class="space-y-4"
      data-category-form="true">
    {% csrf_token %}
    <input type="hidden" name="select_id" value="{{ select_id }}">
    <input type="hidden" name="inline" value="{% if inline %}1{% else %}0{% endif %}">
    <h2 class="text-xl font-semibold">{{ title }}</h2>
    {% if form.non_field_errors %}
        <div class="alert alert-error">
            <ul class="list-disc list-inside">
                {% for error in form.non_field_errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
    {% endif %}
    {% for field in form %}
        <div class="form-control">
            <label class="label" for="{{ field.id_for_label }}">
                <span class="label-text">{{ field.label }}</span>
            </label>
            {% if field.field.widget.input_type == "checkbox" %}
                <label class="label cursor-pointer justify-start gap-3">
                    {{ field }}
                    <span class="label-text">Mark as active</span>
                </label>
            {% else %}
                {{ field }}
            {% endif %}
            {% if field.errors %}
                <div class="text-sm text-error mt-1">
                    {% for error in field.errors %}
                        <div>{{ error }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
    {% endfor %}
    {% if not inline %}
    <div class="modal-action">
        <button type="button" class="btn btn-ghost"
                onclick="document.getElementById('account-modal').close(); document.getElementById('modal-body').innerHTML='';">Cancel</button>
        <button type="submit" class="btn btn-primary">Save</button>
    </div>
    {% else %}
    <div class="flex gap-2 justify-end">
        <button type="button" class="btn btn-ghost btn-sm"
                onclick="document.getElementById('{{ select_id }}-inline-form').innerHTML='';">Cancel</button>
        <button type="submit" class="btn btn-primary btn-sm">Save</button>
    </div>
    {% endif %}
</form>
